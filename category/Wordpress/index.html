<!DOCTYPE html><html><head><meta charSet="utf-8"/><title>Category &quot;Wordpress&quot; » skratchdot.com</title><link rel="apple-touch-icon" sizes="57x57" href="/images/favicons/apple-touch-icon-57x57.png"/><link rel="apple-touch-icon" sizes="114x114" href="/images/favicons/apple-touch-icon-114x114.png"/><link rel="apple-touch-icon" sizes="72x72" href="/images/favicons/apple-touch-icon-72x72.png"/><link rel="apple-touch-icon" sizes="60x60" href="/images/favicons/apple-touch-icon-60x60.png"/><link rel="apple-touch-icon" sizes="120x120" href="/images/favicons/apple-touch-icon-120x120.png"/><link rel="apple-touch-icon" sizes="76x76" href="/images/favicons/apple-touch-icon-76x76.png"/><meta name="apple-mobile-web-app-title" content="skratchdot"/><link rel="icon" type="image/png" href="/images/favicons/favicon-96x96.png" sizes="96x96"/><link rel="icon" type="image/png" href="/images/favicons/favicon-16x16.png" sizes="16x16"/><link rel="icon" type="image/png" href="/images/favicons/favicon-32x32.png" sizes="32x32"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="msapplication-TileColor" content="#da532c"/><meta name="application-name" content="skratchdot"/><meta name="generator" content="NextJS"/><link rel="alternate" type="application/atom+xml" title="Atom Feed for skratchdot.com" href="/atom.xml"/><link rel="alternate" type="application/rss+xml" title="RSS Feed for skratchdot.com" href="/feed.xml"/><link rel="alternate" type="application/feed+json" title="JSON Feed for skratchdot.com" href="/feed.json"/><meta name="next-head-count" content="19"/><link rel="preload" href="/_next/static/css/9f6844b18498e4a4.css" as="style"/><link rel="stylesheet" href="/_next/static/css/9f6844b18498e4a4.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-514908bffb652963.js" defer=""></script><script src="/_next/static/chunks/framework-91d7f78b5b4003c8.js" defer=""></script><script src="/_next/static/chunks/main-682b8586cd82cc4e.js" defer=""></script><script src="/_next/static/chunks/pages/_app-4d21e19fd58c130c.js" defer=""></script><script src="/_next/static/chunks/31-c97ffeae2ceece59.js" defer=""></script><script src="/_next/static/chunks/498-df057dfa1b7a1e4f.js" defer=""></script><script src="/_next/static/chunks/pages/category/%5Bcategory%5D-f7e402f817627528.js" defer=""></script><script src="/_next/static/ietM0aLwFW5OlUSya73Vr/_buildManifest.js" defer=""></script><script src="/_next/static/ietM0aLwFW5OlUSya73Vr/_ssgManifest.js" defer=""></script><script src="/_next/static/ietM0aLwFW5OlUSya73Vr/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div class="hrRed"></div><div class="hrBlack"></div><header class="oneColumn"><h1><a href="/">[skratchdot<span>.</span>]</a></h1></header><nav id="mainNav" class="oneColumn"><ul><li><a title="Home" href="/"><span>[</span>Home<span>]</span></a></li><li><a title="Projects" href="/projects/"><span>[</span>Projects<span>]</span></a></li><li><a title="Contact" href="/contact/"><span>[</span>Contact<span>]</span></a></li></ul></nav><br/><section id="mainSection" class="oneColumn"><article><h1>Category &quot;Wordpress&quot;<!-- -->:</h1><ul class="postlist"><li><div class="clearfix rel"><div class="pl-date">2009<!-- -->-<!-- -->09<!-- -->-<!-- -->22</div><div class="pl-title"><a href="/2009/09/getting-wordpress-post-counts-to-show-up-inside-anchor-tag/">Getting Wordpress Post Counts to show up inside anchor tag</a></div><div class="pl-comments"><a href="/2009/09/getting-wordpress-post-counts-to-show-up-inside-anchor-tag/#disqus_thread"><span class="disqus-comment-count" data-disqus-identifier="/2009/09/getting-wordpress-post-counts-to-show-up-inside-anchor-tag" data-disqus-url="/2009/09/getting-wordpress-post-counts-to-show-up-inside-anchor-tag">Comments</span></a></div></div><div class="clearfix sublist"><div class="sublist-title"><strong><em>Categories<!-- -->:</em></strong></div><div><a href="/category/Wordpress/">Wordpress</a></div></div><div class="clearfix sublist"><div class="sublist-title"><strong><em>Tags<!-- -->:</em></strong></div><div><a href="/tag/PHP/">PHP</a>, <a href="/tag/Wordpress/">Wordpress</a></div></div></li></ul></article><nav id="articlesNav"><div><div class="newEntries"></div><div class="oldEntries"></div></div><div class="homeEntries"><a href="/">HOME</a></div></nav></section><div class="footerSpacer"><br/></div><footer class="oneColumn"><div>Copyright © <!-- -->2022<!-- --> <a href="/">skratchdot</a><span class="hspace">•</span>Validate:  <a href="https://validator.w3.org/nu/?doc=https%3A%2F%2Fwww.skratchdot.com%2Fcategory%2FWordpress%2F">HTML5</a><span class="hspace">•</span><a class="noBorder" href="/atom.xml"><img src="/images/feed-icon-14x14.png" alt="RSS/Atom Feed" width="14" height="14" style="top:2px"/></a><span class="hspace">•</span><div class="twitter-button"><a class="twitter-button-link" target="_blank" aria-label="Follow @skratchdot on Twitter" title="Follow @skratchdot on Twitter" href="https://twitter.com/intent/user?screen_name=skratchdot"><i></i><span>Follow <b>@skratchdot</b></span></a></div></div></footer><a href="https://github.com/skratchdot" class="github-corner"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#c80000;color:#000;position:absolute;top:0;border:0;right:0"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path><path d="M10,10 L115,115 L250,250 Z" stroke="black" stroke-width="6"></path></svg></a><div id="homepage_link"><a style="border:0" href="/"><img src="/favicon.ico" alt="skratchdot" width="16" height="16"/></a></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"posts":[{"year":"2009","month":"09","day":"22","slug":"getting-wordpress-post-counts-to-show-up-inside-anchor-tag","filename":"2009-09-22-getting-wordpress-post-counts-to-show-up-inside-anchor-tag.md","html":"\u003cp\u003e\u003cem\u003eNOTE: This post is referring to my old Wordpress blog. The theme has since changed.\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eWhen creating this blog's theme, I decided I wanted the links in the side navigation\nto take up the full width of the navigation. Also, when hovering, I wanted to highlight\nthe whole link/line. This seems like a very simple thing to do with CSS, but by default,\na few of the Wordpress widgets do not allow for easy customization of the placement of the\npost count. This makes it hard to create sidebar entries in which the whole line is a link.\u003c/p\u003e\n\u003cp\u003eFor example, by default, I could only get the Archive Widget to print out links in the following format:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-html\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eli\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ea\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ehref\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"/2009/09/\"\u003c/span\u003e\u0026gt;\u003c/span\u003eSeptember 2009\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ea\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"hljs-symbol\"\u003e\u0026amp;nbsp;\u003c/span\u003e(1)\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eli\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eI wanted the links to be in this format (note the (1) is inside the anchor tag):\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-html\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eli\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ea\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ehref\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"/2009/09/\"\u003c/span\u003e\u0026gt;\u003c/span\u003eSeptember 2009\u003cspan class=\"hljs-symbol\"\u003e\u0026amp;nbsp;\u003c/span\u003e(1)\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ea\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eli\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eBelow are the steps I took to override the default behavior of the Archive Widget.\nFor this tutorial, I'm going to modify the \"classic\" theme that is provided with Wordpress 2.8.\nYou can download both the original \"classic\" theme as well as my modified version\n\"classic-modified\" \u003ca href=\"/downloads/theme-tutorial-classic-modified.zip\"\u003ehere\u003c/a\u003e.\u003c/p\u003e\n\u003cdiv class=\"info-section-note\"\u003e\nNOTE: For detailed instructions on creating a Wordpress theme, there are many tutorials online.  Also, the \u003ca href=\"http://codex.wordpress.org/Theme_Development\"\u003eWordpress.org\u003c/a\u003e site has fairly detailed documentation.  The first tutorial I found via a google search was for entry level Wordpress developers, yet it was very helpful: \u003ca href=\"http://www.wpdesigner.com/2007/02/19/so-you-want-to-create-wordpress-themes-huh/\"\u003ewww.wpdesigner.com\u003c/a\u003e.\n\u003c/div\u003e\n\n\u003cdiv\u003e\u0026nbsp;\u003c/div\u003e\n\n\u003cp\u003eFor this tutorial, the first step to take is to copy the \"classic\" theme. Rename the copy \"classic-modified\" and place it in your themes folder.\u003c/p\u003e\n\u003cp\u003eNow we're going to modify the \u003cb\u003efunctions.php\u003c/b\u003e file by adding lines 17-18 below:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003e\u003cspan class=\"hljs-meta\"\u003e\u0026lt;?php\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e/**\n * \u003cspan class=\"hljs-doctag\"\u003e@package\u003c/span\u003e WordPress\n * \u003cspan class=\"hljs-doctag\"\u003e@subpackage\u003c/span\u003e Classic_Theme\n */\u003c/span\u003e\n\n\u003cspan class=\"hljs-title function_ invoke__\"\u003eautomatic_feed_links\u003c/span\u003e();\n\n\u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e ( \u003cspan class=\"hljs-title function_ invoke__\"\u003efunction_exists\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'register_sidebar'\u003c/span\u003e) )\n    \u003cspan class=\"hljs-title function_ invoke__\"\u003eregister_sidebar\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003earray\u003c/span\u003e(\n        \u003cspan class=\"hljs-string\"\u003e'before_widget'\u003c/span\u003e =\u0026gt; \u003cspan class=\"hljs-string\"\u003e'\u0026lt;li id=\"%1$s\" class=\"widget %2$s\"\u0026gt;'\u003c/span\u003e,\n        \u003cspan class=\"hljs-string\"\u003e'after_widget'\u003c/span\u003e =\u0026gt; \u003cspan class=\"hljs-string\"\u003e'\u0026lt;/li\u0026gt;'\u003c/span\u003e,\n        \u003cspan class=\"hljs-string\"\u003e'before_title'\u003c/span\u003e =\u0026gt; \u003cspan class=\"hljs-string\"\u003e''\u003c/span\u003e,\n        \u003cspan class=\"hljs-string\"\u003e'after_title'\u003c/span\u003e =\u0026gt; \u003cspan class=\"hljs-string\"\u003e''\u003c/span\u003e,\n    ));\n\n\u003cspan class=\"hljs-comment\"\u003e// Include the script that replaces the default archive widget\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003erequire_once\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'functions-widgets.php'\u003c/span\u003e);\n\n\u003cspan class=\"hljs-meta\"\u003e?\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNow create a blank file called \u003cb\u003efunctions-widgets.php\u003c/b\u003e and place it in your themes folder. Next, open the file \u003cb\u003e\"/wp-includes/default-widgets.php\"\u003c/b\u003e and copy lines 210-271. Paste these lines in \u003cb\u003efunctions-widgets.php\u003c/b\u003e so it looks like the code below (Note I've added the opening and closing php tags):\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003e\u003cspan class=\"hljs-meta\"\u003e\u0026lt;?php\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e/**\n * Archives widget class\n *\n * \u003cspan class=\"hljs-doctag\"\u003e@since\u003c/span\u003e 2.8.0\n */\u003c/span\u003e\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eWP_Widget_Archives\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eWP_Widget\u003c/span\u003e \u003c/span\u003e{\n\n    \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eWP_Widget_Archives\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) \u003c/span\u003e{\n        \u003cspan class=\"hljs-variable\"\u003e$widget_ops\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003earray\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'classname'\u003c/span\u003e =\u0026gt; \u003cspan class=\"hljs-string\"\u003e'widget_archive'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'description'\u003c/span\u003e =\u0026gt; \u003cspan class=\"hljs-title function_ invoke__\"\u003e__\u003c/span\u003e( \u003cspan class=\"hljs-string\"\u003e'A monthly archive of your blog\u0026amp;#8217;s posts'\u003c/span\u003e) );\n        \u003cspan class=\"hljs-variable language_\"\u003e$this\u003c/span\u003e-\u0026gt;\u003cspan class=\"hljs-title function_ invoke__\"\u003eWP_Widget\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'archives'\u003c/span\u003e, \u003cspan class=\"hljs-title function_ invoke__\"\u003e__\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'Archives'\u003c/span\u003e), \u003cspan class=\"hljs-variable\"\u003e$widget_ops\u003c/span\u003e);\n    }\n\n    \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003ewidget\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e \u003cspan class=\"hljs-variable\"\u003e$args\u003c/span\u003e, \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e \u003c/span\u003e) \u003c/span\u003e{\n        \u003cspan class=\"hljs-title function_ invoke__\"\u003eextract\u003c/span\u003e(\u003cspan class=\"hljs-variable\"\u003e$args\u003c/span\u003e);\n        \u003cspan class=\"hljs-variable\"\u003e$c\u003c/span\u003e = \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'count'\u003c/span\u003e] ? \u003cspan class=\"hljs-string\"\u003e'1'\u003c/span\u003e : \u003cspan class=\"hljs-string\"\u003e'0'\u003c/span\u003e;\n        \u003cspan class=\"hljs-variable\"\u003e$d\u003c/span\u003e = \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'dropdown'\u003c/span\u003e] ? \u003cspan class=\"hljs-string\"\u003e'1'\u003c/span\u003e : \u003cspan class=\"hljs-string\"\u003e'0'\u003c/span\u003e;\n        \u003cspan class=\"hljs-variable\"\u003e$title\u003c/span\u003e = \u003cspan class=\"hljs-title function_ invoke__\"\u003eapply_filters\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'widget_title'\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003eempty\u003c/span\u003e(\u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'title'\u003c/span\u003e]) ? \u003cspan class=\"hljs-title function_ invoke__\"\u003e__\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'Archives'\u003c/span\u003e) : \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'title'\u003c/span\u003e]);\n\n        \u003cspan class=\"hljs-keyword\"\u003eecho\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003e$before_widget\u003c/span\u003e;\n        \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e ( \u003cspan class=\"hljs-variable\"\u003e$title\u003c/span\u003e )\n            \u003cspan class=\"hljs-keyword\"\u003eecho\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003e$before_title\u003c/span\u003e . \u003cspan class=\"hljs-variable\"\u003e$title\u003c/span\u003e . \u003cspan class=\"hljs-variable\"\u003e$after_title\u003c/span\u003e;\n\n        \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e ( \u003cspan class=\"hljs-variable\"\u003e$d\u003c/span\u003e ) {\n\u003cspan class=\"hljs-meta\"\u003e?\u0026gt;\u003c/span\u003e\n        \u0026lt;select name=\u003cspan class=\"hljs-string\"\u003e\"archive-dropdown\"\u003c/span\u003e onchange=\u003cspan class=\"hljs-string\"\u003e'document.location.href=this.options[this.selectedIndex].value;'\u003c/span\u003e\u0026gt; \u0026lt;option value=\u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e\u0026gt;\u003cspan class=\"hljs-meta\"\u003e\u0026lt;?php\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eecho\u003c/span\u003e \u003cspan class=\"hljs-title function_ invoke__\"\u003eesc_attr\u003c/span\u003e(\u003cspan class=\"hljs-title function_ invoke__\"\u003e__\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'Select Month'\u003c/span\u003e)); \u003cspan class=\"hljs-meta\"\u003e?\u0026gt;\u003c/span\u003e\u0026lt;/option\u0026gt; \u003cspan class=\"hljs-meta\"\u003e\u0026lt;?php\u003c/span\u003e \u003cspan class=\"hljs-title function_ invoke__\"\u003ewp_get_archives\u003c/span\u003e(\u003cspan class=\"hljs-title function_ invoke__\"\u003eapply_filters\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'widget_archives_dropdown_args'\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003earray\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'type'\u003c/span\u003e =\u0026gt; \u003cspan class=\"hljs-string\"\u003e'monthly'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'format'\u003c/span\u003e =\u0026gt; \u003cspan class=\"hljs-string\"\u003e'option'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'show_post_count'\u003c/span\u003e =\u0026gt; \u003cspan class=\"hljs-variable\"\u003e$c\u003c/span\u003e))); \u003cspan class=\"hljs-meta\"\u003e?\u0026gt;\u003c/span\u003e \u0026lt;/select\u0026gt;\n\u003cspan class=\"hljs-meta\"\u003e\u0026lt;?php\u003c/span\u003e\n        } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n\u003cspan class=\"hljs-meta\"\u003e?\u0026gt;\u003c/span\u003e\n        \u0026lt;ul\u0026gt;\n        \u003cspan class=\"hljs-meta\"\u003e\u0026lt;?php\u003c/span\u003e \u003cspan class=\"hljs-title function_ invoke__\"\u003ewp_get_archives\u003c/span\u003e(\u003cspan class=\"hljs-title function_ invoke__\"\u003eapply_filters\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'widget_archives_args'\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003earray\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'type'\u003c/span\u003e =\u0026gt; \u003cspan class=\"hljs-string\"\u003e'monthly'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'show_post_count'\u003c/span\u003e =\u0026gt; \u003cspan class=\"hljs-variable\"\u003e$c\u003c/span\u003e))); \u003cspan class=\"hljs-meta\"\u003e?\u0026gt;\u003c/span\u003e\n        \u0026lt;/ul\u0026gt;\n\u003cspan class=\"hljs-meta\"\u003e\u0026lt;?php\u003c/span\u003e\n        }\n\n        \u003cspan class=\"hljs-keyword\"\u003eecho\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003e$after_widget\u003c/span\u003e;\n    }\n\n    \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eupdate\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e \u003cspan class=\"hljs-variable\"\u003e$new_instance\u003c/span\u003e, \u003cspan class=\"hljs-variable\"\u003e$old_instance\u003c/span\u003e \u003c/span\u003e) \u003c/span\u003e{\n        \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e = \u003cspan class=\"hljs-variable\"\u003e$old_instance\u003c/span\u003e;\n        \u003cspan class=\"hljs-variable\"\u003e$new_instance\u003c/span\u003e = \u003cspan class=\"hljs-title function_ invoke__\"\u003ewp_parse_args\u003c/span\u003e( (\u003cspan class=\"hljs-keyword\"\u003earray\u003c/span\u003e) \u003cspan class=\"hljs-variable\"\u003e$new_instance\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003earray\u003c/span\u003e( \u003cspan class=\"hljs-string\"\u003e'title'\u003c/span\u003e =\u0026gt; \u003cspan class=\"hljs-string\"\u003e''\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'count'\u003c/span\u003e =\u0026gt; \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'dropdown'\u003c/span\u003e =\u0026gt; \u003cspan class=\"hljs-string\"\u003e''\u003c/span\u003e) );\n        \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'title'\u003c/span\u003e] = \u003cspan class=\"hljs-title function_ invoke__\"\u003estrip_tags\u003c/span\u003e(\u003cspan class=\"hljs-variable\"\u003e$new_instance\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'title'\u003c/span\u003e]);\n        \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'count'\u003c/span\u003e] = \u003cspan class=\"hljs-variable\"\u003e$new_instance\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'count'\u003c/span\u003e] ? \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e : \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e;\n        \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'dropdown'\u003c/span\u003e] = \u003cspan class=\"hljs-variable\"\u003e$new_instance\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'dropdown'\u003c/span\u003e] ? \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e : \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e;\n\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e;\n    }\n\n    \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eform\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e \u003c/span\u003e) \u003c/span\u003e{\n        \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e = \u003cspan class=\"hljs-title function_ invoke__\"\u003ewp_parse_args\u003c/span\u003e( (\u003cspan class=\"hljs-keyword\"\u003earray\u003c/span\u003e) \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003earray\u003c/span\u003e( \u003cspan class=\"hljs-string\"\u003e'title'\u003c/span\u003e =\u0026gt; \u003cspan class=\"hljs-string\"\u003e''\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'count'\u003c/span\u003e =\u0026gt; \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'dropdown'\u003c/span\u003e =\u0026gt; \u003cspan class=\"hljs-string\"\u003e''\u003c/span\u003e) );\n        \u003cspan class=\"hljs-variable\"\u003e$title\u003c/span\u003e = \u003cspan class=\"hljs-title function_ invoke__\"\u003estrip_tags\u003c/span\u003e(\u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'title'\u003c/span\u003e]);\n        \u003cspan class=\"hljs-variable\"\u003e$count\u003c/span\u003e = \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'count'\u003c/span\u003e] ? \u003cspan class=\"hljs-string\"\u003e'checked=\"checked\"'\u003c/span\u003e : \u003cspan class=\"hljs-string\"\u003e''\u003c/span\u003e;\n        \u003cspan class=\"hljs-variable\"\u003e$dropdown\u003c/span\u003e = \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'dropdown'\u003c/span\u003e] ? \u003cspan class=\"hljs-string\"\u003e'checked=\"checked\"'\u003c/span\u003e : \u003cspan class=\"hljs-string\"\u003e''\u003c/span\u003e;\n\u003cspan class=\"hljs-meta\"\u003e?\u0026gt;\u003c/span\u003e\n        \u0026lt;p\u0026gt;\u0026lt;label \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"\u0026lt;?php echo \u003cspan class=\"hljs-subst\"\u003e$this\u003c/span\u003e-\u0026gt;get_field_id('title'); ?\u0026gt;\"\u003c/span\u003e\u0026gt;\u003cspan class=\"hljs-meta\"\u003e\u0026lt;?php\u003c/span\u003e \u003cspan class=\"hljs-title function_ invoke__\"\u003e_e\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'Title:'\u003c/span\u003e); \u003cspan class=\"hljs-meta\"\u003e?\u0026gt;\u003c/span\u003e\u0026lt;/label\u0026gt; \u0026lt;input \u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e=\"\u003cspan class=\"hljs-title\"\u003ewidefat\u003c/span\u003e\" \u003cspan class=\"hljs-title\"\u003eid\u003c/span\u003e=\"\u0026lt;?\u003cspan class=\"hljs-title\"\u003ephp\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eecho\u003c/span\u003e $\u003cspan class=\"hljs-title\"\u003ethis\u003c/span\u003e-\u0026gt;\u003cspan class=\"hljs-title\"\u003eget_field_id\u003c/span\u003e('\u003cspan class=\"hljs-title\"\u003etitle\u003c/span\u003e'); ?\u0026gt;\" \u003cspan class=\"hljs-title\"\u003ename\u003c/span\u003e=\"\u0026lt;?\u003cspan class=\"hljs-title\"\u003ephp\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eecho\u003c/span\u003e $\u003cspan class=\"hljs-title\"\u003ethis\u003c/span\u003e-\u0026gt;\u003cspan class=\"hljs-title\"\u003eget_field_name\u003c/span\u003e('\u003cspan class=\"hljs-title\"\u003etitle\u003c/span\u003e'); ?\u0026gt;\" \u003cspan class=\"hljs-title\"\u003etype\u003c/span\u003e=\"\u003cspan class=\"hljs-title\"\u003etext\u003c/span\u003e\" \u003cspan class=\"hljs-title\"\u003evalue\u003c/span\u003e=\"\u0026lt;?\u003cspan class=\"hljs-title\"\u003ephp\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eecho\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eesc_attr\u003c/span\u003e($\u003cspan class=\"hljs-title\"\u003etitle\u003c/span\u003e); ?\u0026gt;\" /\u0026gt;\u0026lt;/\u003cspan class=\"hljs-title\"\u003ep\u003c/span\u003e\u0026gt;\n        \u0026lt;\u003cspan class=\"hljs-title\"\u003ep\u003c/span\u003e\u0026gt;\n            \u0026lt;\u003cspan class=\"hljs-title\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eclass\u003c/span\u003e=\"\u003cspan class=\"hljs-title\"\u003echeckbox\u003c/span\u003e\" \u003cspan class=\"hljs-title\"\u003etype\u003c/span\u003e=\"\u003cspan class=\"hljs-title\"\u003echeckbox\u003c/span\u003e\" \u0026lt;?\u003cspan class=\"hljs-title\"\u003ephp\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eecho\u003c/span\u003e $\u003cspan class=\"hljs-title\"\u003ecount\u003c/span\u003e; ?\u0026gt; \u003cspan class=\"hljs-title\"\u003eid\u003c/span\u003e=\"\u0026lt;?\u003cspan class=\"hljs-title\"\u003ephp\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eecho\u003c/span\u003e $\u003cspan class=\"hljs-title\"\u003ethis\u003c/span\u003e-\u0026gt;\u003cspan class=\"hljs-title\"\u003eget_field_id\u003c/span\u003e('\u003cspan class=\"hljs-title\"\u003ecount\u003c/span\u003e'); ?\u0026gt;\" \u003cspan class=\"hljs-title\"\u003ename\u003c/span\u003e=\"\u0026lt;?\u003cspan class=\"hljs-title\"\u003ephp\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eecho\u003c/span\u003e $\u003cspan class=\"hljs-title\"\u003ethis\u003c/span\u003e-\u0026gt;\u003cspan class=\"hljs-title\"\u003eget_field_name\u003c/span\u003e('\u003cspan class=\"hljs-title\"\u003ecount\u003c/span\u003e'); ?\u0026gt;\" /\u0026gt; \u0026lt;\u003cspan class=\"hljs-title\"\u003elabel\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003efor\u003c/span\u003e=\"\u0026lt;?\u003cspan class=\"hljs-title\"\u003ephp\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eecho\u003c/span\u003e $\u003cspan class=\"hljs-title\"\u003ethis\u003c/span\u003e-\u0026gt;\u003cspan class=\"hljs-title\"\u003eget_field_id\u003c/span\u003e('\u003cspan class=\"hljs-title\"\u003ecount\u003c/span\u003e'); ?\u0026gt;\"\u0026gt;\u0026lt;?\u003cspan class=\"hljs-title\"\u003ephp\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003e_e\u003c/span\u003e('\u003cspan class=\"hljs-title\"\u003eShow\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003epost\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003ecounts\u003c/span\u003e'); ?\u0026gt;\u0026lt;/\u003cspan class=\"hljs-title\"\u003elabel\u003c/span\u003e\u0026gt;\n            \u0026lt;\u003cspan class=\"hljs-title\"\u003ebr\u003c/span\u003e /\u0026gt;\n            \u0026lt;\u003cspan class=\"hljs-title\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eclass\u003c/span\u003e=\"\u003cspan class=\"hljs-title\"\u003echeckbox\u003c/span\u003e\" \u003cspan class=\"hljs-title\"\u003etype\u003c/span\u003e=\"\u003cspan class=\"hljs-title\"\u003echeckbox\u003c/span\u003e\" \u0026lt;?\u003cspan class=\"hljs-title\"\u003ephp\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eecho\u003c/span\u003e $\u003cspan class=\"hljs-title\"\u003edropdown\u003c/span\u003e; ?\u0026gt; \u003cspan class=\"hljs-title\"\u003eid\u003c/span\u003e=\"\u0026lt;?\u003cspan class=\"hljs-title\"\u003ephp\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eecho\u003c/span\u003e $\u003cspan class=\"hljs-title\"\u003ethis\u003c/span\u003e-\u0026gt;\u003cspan class=\"hljs-title\"\u003eget_field_id\u003c/span\u003e('\u003cspan class=\"hljs-title\"\u003edropdown\u003c/span\u003e'); ?\u0026gt;\" \u003cspan class=\"hljs-title\"\u003ename\u003c/span\u003e=\"\u0026lt;?\u003cspan class=\"hljs-title\"\u003ephp\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eecho\u003c/span\u003e $\u003cspan class=\"hljs-title\"\u003ethis\u003c/span\u003e-\u0026gt;\u003cspan class=\"hljs-title\"\u003eget_field_name\u003c/span\u003e('\u003cspan class=\"hljs-title\"\u003edropdown\u003c/span\u003e'); ?\u0026gt;\" /\u0026gt; \u0026lt;\u003cspan class=\"hljs-title\"\u003elabel\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003efor\u003c/span\u003e=\"\u0026lt;?\u003cspan class=\"hljs-title\"\u003ephp\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eecho\u003c/span\u003e $\u003cspan class=\"hljs-title\"\u003ethis\u003c/span\u003e-\u0026gt;\u003cspan class=\"hljs-title\"\u003eget_field_id\u003c/span\u003e('\u003cspan class=\"hljs-title\"\u003edropdown\u003c/span\u003e'); ?\u0026gt;\"\u0026gt;\u0026lt;?\u003cspan class=\"hljs-title\"\u003ephp\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003e_e\u003c/span\u003e('\u003cspan class=\"hljs-title\"\u003eDisplay\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eas\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003ea\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003edrop\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003edown\u003c/span\u003e'); ?\u0026gt;\u0026lt;/\u003cspan class=\"hljs-title\"\u003elabel\u003c/span\u003e\u0026gt;\n        \u0026lt;/\u003cspan class=\"hljs-title\"\u003ep\u003c/span\u003e\u0026gt;\n\u0026lt;?\u003cspan class=\"hljs-title\"\u003ephp\u003c/span\u003e\n    }\n}\n\n?\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNow rename:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003e\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eWP_Widget_Archives\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eWP_Widget\u003c/span\u003e \u003c/span\u003e{\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eto:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003e\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eMyTheme_Widget_Archives\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eWP_Widget\u003c/span\u003e \u003c/span\u003e{\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWe did this because we are effectively creating a new widget, so if we want to use the old \"Archives\" widget, we can.\u003c/p\u003e\n\u003cp\u003eNow change the following function from:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003e    \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eWP_Widget_Archives\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) \u003c/span\u003e{\n        \u003cspan class=\"hljs-variable\"\u003e$widget_ops\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003earray\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'classname'\u003c/span\u003e =\u0026gt; \u003cspan class=\"hljs-string\"\u003e'widget_archive'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'description'\u003c/span\u003e =\u0026gt; \u003cspan class=\"hljs-title function_ invoke__\"\u003e__\u003c/span\u003e( \u003cspan class=\"hljs-string\"\u003e'A monthly archive of your blog\u0026amp;#8217;s posts'\u003c/span\u003e) );\n        \u003cspan class=\"hljs-variable language_\"\u003e$this\u003c/span\u003e-\u0026gt;\u003cspan class=\"hljs-title function_ invoke__\"\u003eWP_Widget\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'archives'\u003c/span\u003e, \u003cspan class=\"hljs-title function_ invoke__\"\u003e__\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'Archives'\u003c/span\u003e), \u003cspan class=\"hljs-variable\"\u003e$widget_ops\u003c/span\u003e);\n    }\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eto:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003e    \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eMyTheme_Widget_Archives\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) \u003c/span\u003e{\n        \u003cspan class=\"hljs-variable\"\u003e$widget_ops\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003earray\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'classname'\u003c/span\u003e =\u0026gt; \u003cspan class=\"hljs-string\"\u003e'widget_archive'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'description'\u003c/span\u003e =\u0026gt; \u003cspan class=\"hljs-title function_ invoke__\"\u003e__\u003c/span\u003e( \u003cspan class=\"hljs-string\"\u003e'A monthly archive of your blog\u0026amp;#8217;s posts'\u003c/span\u003e) );\n        \u003cspan class=\"hljs-variable language_\"\u003e$this\u003c/span\u003e-\u0026gt;\u003cspan class=\"hljs-title function_ invoke__\"\u003eWP_Widget\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'mytheme_archives'\u003c/span\u003e, \u003cspan class=\"hljs-title function_ invoke__\"\u003e__\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'MyTheme Archives'\u003c/span\u003e), \u003cspan class=\"hljs-variable\"\u003e$widget_ops\u003c/span\u003e);\n    }\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNotice that we not only changed the function name, but we changed the parameters to the WP_Widget call. We did this for the same reason explained above (this is a \"new\" widget, and we want to be able to switch back to the old version).\u003c/p\u003e\n\u003cdiv\u003e\u0026nbsp;\u003c/div\u003e\n\n\u003cp\u003eFor this next step, we are going to modify the \u003ci\u003ewidget()\u003c/i\u003e, \u003ci\u003eform()\u003c/i\u003e, and \u003ci\u003eupdate()\u003c/i\u003e calls. These are the functions that display the actual widget in the sidebar, and also display the widget details in the WordPress admin console. For this new widget, I am always going to display the post count, and I'm never going to display the archive results as a dropdown, so I can remove a few of the variables that are in the default archive widget ($c, $count, $d, $dropdown). To achieve this, you can modify \u003cb\u003efunctions-widgets.php\u003c/b\u003e like so:\u003c/p\u003e\n\u003cp\u003eBefore changes:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003e    \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003ewidget\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e \u003cspan class=\"hljs-variable\"\u003e$args\u003c/span\u003e, \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e \u003c/span\u003e) \u003c/span\u003e{\n        \u003cspan class=\"hljs-title function_ invoke__\"\u003eextract\u003c/span\u003e(\u003cspan class=\"hljs-variable\"\u003e$args\u003c/span\u003e);\n        \u003cspan class=\"hljs-variable\"\u003e$c\u003c/span\u003e = \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'count'\u003c/span\u003e] ? \u003cspan class=\"hljs-string\"\u003e'1'\u003c/span\u003e : \u003cspan class=\"hljs-string\"\u003e'0'\u003c/span\u003e;\n        \u003cspan class=\"hljs-variable\"\u003e$d\u003c/span\u003e = \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'dropdown'\u003c/span\u003e] ? \u003cspan class=\"hljs-string\"\u003e'1'\u003c/span\u003e : \u003cspan class=\"hljs-string\"\u003e'0'\u003c/span\u003e;\n        \u003cspan class=\"hljs-variable\"\u003e$title\u003c/span\u003e = \u003cspan class=\"hljs-title function_ invoke__\"\u003eapply_filters\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'widget_title'\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003eempty\u003c/span\u003e(\u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'title'\u003c/span\u003e]) ? \u003cspan class=\"hljs-title function_ invoke__\"\u003e__\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'Archives'\u003c/span\u003e) : \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'title'\u003c/span\u003e]);\n\n        \u003cspan class=\"hljs-keyword\"\u003eecho\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003e$before_widget\u003c/span\u003e;\n        \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e ( \u003cspan class=\"hljs-variable\"\u003e$title\u003c/span\u003e )\n            \u003cspan class=\"hljs-keyword\"\u003eecho\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003e$before_title\u003c/span\u003e . \u003cspan class=\"hljs-variable\"\u003e$title\u003c/span\u003e . \u003cspan class=\"hljs-variable\"\u003e$after_title\u003c/span\u003e;\n\n        \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e ( \u003cspan class=\"hljs-variable\"\u003e$d\u003c/span\u003e ) {\n\u003cspan class=\"hljs-meta\"\u003e?\u0026gt;\u003c/span\u003e\n        \u0026lt;select name=\u003cspan class=\"hljs-string\"\u003e\"archive-dropdown\"\u003c/span\u003e onchange=\u003cspan class=\"hljs-string\"\u003e'document.location.href=this.options[this.selectedIndex].value;'\u003c/span\u003e\u0026gt; \u0026lt;option value=\u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e\u0026gt;\u003cspan class=\"hljs-meta\"\u003e\u0026lt;?php\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eecho\u003c/span\u003e \u003cspan class=\"hljs-title function_ invoke__\"\u003eesc_attr\u003c/span\u003e(\u003cspan class=\"hljs-title function_ invoke__\"\u003e__\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'Select Month'\u003c/span\u003e)); \u003cspan class=\"hljs-meta\"\u003e?\u0026gt;\u003c/span\u003e\u0026lt;/option\u0026gt; \u003cspan class=\"hljs-meta\"\u003e\u0026lt;?php\u003c/span\u003e \u003cspan class=\"hljs-title function_ invoke__\"\u003ewp_get_archives\u003c/span\u003e(\u003cspan class=\"hljs-title function_ invoke__\"\u003eapply_filters\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'widget_archives_dropdown_args'\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003earray\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'type'\u003c/span\u003e =\u0026gt; \u003cspan class=\"hljs-string\"\u003e'monthly'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'format'\u003c/span\u003e =\u0026gt; \u003cspan class=\"hljs-string\"\u003e'option'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'show_post_count'\u003c/span\u003e =\u0026gt; \u003cspan class=\"hljs-variable\"\u003e$c\u003c/span\u003e))); \u003cspan class=\"hljs-meta\"\u003e?\u0026gt;\u003c/span\u003e \u0026lt;/select\u0026gt;\n\u003cspan class=\"hljs-meta\"\u003e\u0026lt;?php\u003c/span\u003e\n        } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n\u003cspan class=\"hljs-meta\"\u003e?\u0026gt;\u003c/span\u003e\n        \u0026lt;ul\u0026gt;\n        \u003cspan class=\"hljs-meta\"\u003e\u0026lt;?php\u003c/span\u003e \u003cspan class=\"hljs-title function_ invoke__\"\u003ewp_get_archives\u003c/span\u003e(\u003cspan class=\"hljs-title function_ invoke__\"\u003eapply_filters\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'widget_archives_args'\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003earray\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'type'\u003c/span\u003e =\u0026gt; \u003cspan class=\"hljs-string\"\u003e'monthly'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'show_post_count'\u003c/span\u003e =\u0026gt; \u003cspan class=\"hljs-variable\"\u003e$c\u003c/span\u003e))); \u003cspan class=\"hljs-meta\"\u003e?\u0026gt;\u003c/span\u003e\n        \u0026lt;/ul\u0026gt;\n\u003cspan class=\"hljs-meta\"\u003e\u0026lt;?php\u003c/span\u003e\n        }\n\n        \u003cspan class=\"hljs-keyword\"\u003eecho\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003e$after_widget\u003c/span\u003e;\n    }\n\n    \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eupdate\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e \u003cspan class=\"hljs-variable\"\u003e$new_instance\u003c/span\u003e, \u003cspan class=\"hljs-variable\"\u003e$old_instance\u003c/span\u003e \u003c/span\u003e) \u003c/span\u003e{\n        \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e = \u003cspan class=\"hljs-variable\"\u003e$old_instance\u003c/span\u003e;\n        \u003cspan class=\"hljs-variable\"\u003e$new_instance\u003c/span\u003e = \u003cspan class=\"hljs-title function_ invoke__\"\u003ewp_parse_args\u003c/span\u003e( (\u003cspan class=\"hljs-keyword\"\u003earray\u003c/span\u003e) \u003cspan class=\"hljs-variable\"\u003e$new_instance\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003earray\u003c/span\u003e( \u003cspan class=\"hljs-string\"\u003e'title'\u003c/span\u003e =\u0026gt; \u003cspan class=\"hljs-string\"\u003e''\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'count'\u003c/span\u003e =\u0026gt; \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'dropdown'\u003c/span\u003e =\u0026gt; \u003cspan class=\"hljs-string\"\u003e''\u003c/span\u003e) );\n        \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'title'\u003c/span\u003e] = \u003cspan class=\"hljs-title function_ invoke__\"\u003estrip_tags\u003c/span\u003e(\u003cspan class=\"hljs-variable\"\u003e$new_instance\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'title'\u003c/span\u003e]);\n        \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'count'\u003c/span\u003e] = \u003cspan class=\"hljs-variable\"\u003e$new_instance\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'count'\u003c/span\u003e] ? \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e : \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e;\n        \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'dropdown'\u003c/span\u003e] = \u003cspan class=\"hljs-variable\"\u003e$new_instance\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'dropdown'\u003c/span\u003e] ? \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e : \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e;\n\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e;\n    }\n\n    \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eform\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e \u003c/span\u003e) \u003c/span\u003e{\n        \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e = \u003cspan class=\"hljs-title function_ invoke__\"\u003ewp_parse_args\u003c/span\u003e( (\u003cspan class=\"hljs-keyword\"\u003earray\u003c/span\u003e) \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003earray\u003c/span\u003e( \u003cspan class=\"hljs-string\"\u003e'title'\u003c/span\u003e =\u0026gt; \u003cspan class=\"hljs-string\"\u003e''\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'count'\u003c/span\u003e =\u0026gt; \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'dropdown'\u003c/span\u003e =\u0026gt; \u003cspan class=\"hljs-string\"\u003e''\u003c/span\u003e) );\n        \u003cspan class=\"hljs-variable\"\u003e$title\u003c/span\u003e = \u003cspan class=\"hljs-title function_ invoke__\"\u003estrip_tags\u003c/span\u003e(\u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'title'\u003c/span\u003e]);\n        \u003cspan class=\"hljs-variable\"\u003e$count\u003c/span\u003e = \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'count'\u003c/span\u003e] ? \u003cspan class=\"hljs-string\"\u003e'checked=\"checked\"'\u003c/span\u003e : \u003cspan class=\"hljs-string\"\u003e''\u003c/span\u003e;\n        \u003cspan class=\"hljs-variable\"\u003e$dropdown\u003c/span\u003e = \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'dropdown'\u003c/span\u003e] ? \u003cspan class=\"hljs-string\"\u003e'checked=\"checked\"'\u003c/span\u003e : \u003cspan class=\"hljs-string\"\u003e''\u003c/span\u003e;\n\u003cspan class=\"hljs-meta\"\u003e?\u0026gt;\u003c/span\u003e\n        \u0026lt;p\u0026gt;\u0026lt;label \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"\u0026lt;?php echo \u003cspan class=\"hljs-subst\"\u003e$this\u003c/span\u003e-\u0026gt;get_field_id('title'); ?\u0026gt;\"\u003c/span\u003e\u0026gt;\u003cspan class=\"hljs-meta\"\u003e\u0026lt;?php\u003c/span\u003e \u003cspan class=\"hljs-title function_ invoke__\"\u003e_e\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'Title:'\u003c/span\u003e); \u003cspan class=\"hljs-meta\"\u003e?\u0026gt;\u003c/span\u003e\u0026lt;/label\u0026gt; \u0026lt;input \u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e=\"\u003cspan class=\"hljs-title\"\u003ewidefat\u003c/span\u003e\" \u003cspan class=\"hljs-title\"\u003eid\u003c/span\u003e=\"\u0026lt;?\u003cspan class=\"hljs-title\"\u003ephp\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eecho\u003c/span\u003e $\u003cspan class=\"hljs-title\"\u003ethis\u003c/span\u003e-\u0026gt;\u003cspan class=\"hljs-title\"\u003eget_field_id\u003c/span\u003e('\u003cspan class=\"hljs-title\"\u003etitle\u003c/span\u003e'); ?\u0026gt;\" \u003cspan class=\"hljs-title\"\u003ename\u003c/span\u003e=\"\u0026lt;?\u003cspan class=\"hljs-title\"\u003ephp\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eecho\u003c/span\u003e $\u003cspan class=\"hljs-title\"\u003ethis\u003c/span\u003e-\u0026gt;\u003cspan class=\"hljs-title\"\u003eget_field_name\u003c/span\u003e('\u003cspan class=\"hljs-title\"\u003etitle\u003c/span\u003e'); ?\u0026gt;\" \u003cspan class=\"hljs-title\"\u003etype\u003c/span\u003e=\"\u003cspan class=\"hljs-title\"\u003etext\u003c/span\u003e\" \u003cspan class=\"hljs-title\"\u003evalue\u003c/span\u003e=\"\u0026lt;?\u003cspan class=\"hljs-title\"\u003ephp\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eecho\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eesc_attr\u003c/span\u003e($\u003cspan class=\"hljs-title\"\u003etitle\u003c/span\u003e); ?\u0026gt;\" /\u0026gt;\u0026lt;/\u003cspan class=\"hljs-title\"\u003ep\u003c/span\u003e\u0026gt;\n        \u0026lt;\u003cspan class=\"hljs-title\"\u003ep\u003c/span\u003e\u0026gt;\n            \u0026lt;\u003cspan class=\"hljs-title\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eclass\u003c/span\u003e=\"\u003cspan class=\"hljs-title\"\u003echeckbox\u003c/span\u003e\" \u003cspan class=\"hljs-title\"\u003etype\u003c/span\u003e=\"\u003cspan class=\"hljs-title\"\u003echeckbox\u003c/span\u003e\" \u0026lt;?\u003cspan class=\"hljs-title\"\u003ephp\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eecho\u003c/span\u003e $\u003cspan class=\"hljs-title\"\u003ecount\u003c/span\u003e; ?\u0026gt; \u003cspan class=\"hljs-title\"\u003eid\u003c/span\u003e=\"\u0026lt;?\u003cspan class=\"hljs-title\"\u003ephp\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eecho\u003c/span\u003e $\u003cspan class=\"hljs-title\"\u003ethis\u003c/span\u003e-\u0026gt;\u003cspan class=\"hljs-title\"\u003eget_field_id\u003c/span\u003e('\u003cspan class=\"hljs-title\"\u003ecount\u003c/span\u003e'); ?\u0026gt;\" \u003cspan class=\"hljs-title\"\u003ename\u003c/span\u003e=\"\u0026lt;?\u003cspan class=\"hljs-title\"\u003ephp\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eecho\u003c/span\u003e $\u003cspan class=\"hljs-title\"\u003ethis\u003c/span\u003e-\u0026gt;\u003cspan class=\"hljs-title\"\u003eget_field_name\u003c/span\u003e('\u003cspan class=\"hljs-title\"\u003ecount\u003c/span\u003e'); ?\u0026gt;\" /\u0026gt; \u0026lt;\u003cspan class=\"hljs-title\"\u003elabel\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003efor\u003c/span\u003e=\"\u0026lt;?\u003cspan class=\"hljs-title\"\u003ephp\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eecho\u003c/span\u003e $\u003cspan class=\"hljs-title\"\u003ethis\u003c/span\u003e-\u0026gt;\u003cspan class=\"hljs-title\"\u003eget_field_id\u003c/span\u003e('\u003cspan class=\"hljs-title\"\u003ecount\u003c/span\u003e'); ?\u0026gt;\"\u0026gt;\u0026lt;?\u003cspan class=\"hljs-title\"\u003ephp\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003e_e\u003c/span\u003e('\u003cspan class=\"hljs-title\"\u003eShow\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003epost\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003ecounts\u003c/span\u003e'); ?\u0026gt;\u0026lt;/\u003cspan class=\"hljs-title\"\u003elabel\u003c/span\u003e\u0026gt;\n            \u0026lt;\u003cspan class=\"hljs-title\"\u003ebr\u003c/span\u003e /\u0026gt;\n            \u0026lt;\u003cspan class=\"hljs-title\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eclass\u003c/span\u003e=\"\u003cspan class=\"hljs-title\"\u003echeckbox\u003c/span\u003e\" \u003cspan class=\"hljs-title\"\u003etype\u003c/span\u003e=\"\u003cspan class=\"hljs-title\"\u003echeckbox\u003c/span\u003e\" \u0026lt;?\u003cspan class=\"hljs-title\"\u003ephp\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eecho\u003c/span\u003e $\u003cspan class=\"hljs-title\"\u003edropdown\u003c/span\u003e; ?\u0026gt; \u003cspan class=\"hljs-title\"\u003eid\u003c/span\u003e=\"\u0026lt;?\u003cspan class=\"hljs-title\"\u003ephp\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eecho\u003c/span\u003e $\u003cspan class=\"hljs-title\"\u003ethis\u003c/span\u003e-\u0026gt;\u003cspan class=\"hljs-title\"\u003eget_field_id\u003c/span\u003e('\u003cspan class=\"hljs-title\"\u003edropdown\u003c/span\u003e'); ?\u0026gt;\" \u003cspan class=\"hljs-title\"\u003ename\u003c/span\u003e=\"\u0026lt;?\u003cspan class=\"hljs-title\"\u003ephp\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eecho\u003c/span\u003e $\u003cspan class=\"hljs-title\"\u003ethis\u003c/span\u003e-\u0026gt;\u003cspan class=\"hljs-title\"\u003eget_field_name\u003c/span\u003e('\u003cspan class=\"hljs-title\"\u003edropdown\u003c/span\u003e'); ?\u0026gt;\" /\u0026gt; \u0026lt;\u003cspan class=\"hljs-title\"\u003elabel\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003efor\u003c/span\u003e=\"\u0026lt;?\u003cspan class=\"hljs-title\"\u003ephp\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eecho\u003c/span\u003e $\u003cspan class=\"hljs-title\"\u003ethis\u003c/span\u003e-\u0026gt;\u003cspan class=\"hljs-title\"\u003eget_field_id\u003c/span\u003e('\u003cspan class=\"hljs-title\"\u003edropdown\u003c/span\u003e'); ?\u0026gt;\"\u0026gt;\u0026lt;?\u003cspan class=\"hljs-title\"\u003ephp\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003e_e\u003c/span\u003e('\u003cspan class=\"hljs-title\"\u003eDisplay\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eas\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003ea\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003edrop\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003edown\u003c/span\u003e'); ?\u0026gt;\u0026lt;/\u003cspan class=\"hljs-title\"\u003elabel\u003c/span\u003e\u0026gt;\n        \u0026lt;/\u003cspan class=\"hljs-title\"\u003ep\u003c/span\u003e\u0026gt;\n\u0026lt;?\u003cspan class=\"hljs-title\"\u003ephp\u003c/span\u003e\n    }\n}\n\n?\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAfter changes:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003e    \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003ewidget\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e \u003cspan class=\"hljs-variable\"\u003e$args\u003c/span\u003e, \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e \u003c/span\u003e) \u003c/span\u003e{\n        \u003cspan class=\"hljs-title function_ invoke__\"\u003eextract\u003c/span\u003e(\u003cspan class=\"hljs-variable\"\u003e$args\u003c/span\u003e);\n        \u003cspan class=\"hljs-variable\"\u003e$title\u003c/span\u003e = \u003cspan class=\"hljs-title function_ invoke__\"\u003eapply_filters\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'widget_title'\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003eempty\u003c/span\u003e(\u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'title'\u003c/span\u003e]) ? \u003cspan class=\"hljs-title function_ invoke__\"\u003e__\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'Archives'\u003c/span\u003e) : \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'title'\u003c/span\u003e]);\n\n        \u003cspan class=\"hljs-keyword\"\u003eecho\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003e$before_widget\u003c/span\u003e;\n        \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e ( \u003cspan class=\"hljs-variable\"\u003e$title\u003c/span\u003e )\n            \u003cspan class=\"hljs-keyword\"\u003eecho\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003e$before_title\u003c/span\u003e . \u003cspan class=\"hljs-variable\"\u003e$title\u003c/span\u003e . \u003cspan class=\"hljs-variable\"\u003e$after_title\u003c/span\u003e;\n \u003cspan class=\"hljs-meta\"\u003e?\u0026gt;\u003c/span\u003e\n        \u0026lt;ul\u0026gt;\n            \u003cspan class=\"hljs-comment\"\u003e// We will complete this in the next step\u003c/span\u003e\n        \u0026lt;/ul\u0026gt;\n\u003cspan class=\"hljs-meta\"\u003e\u0026lt;?php\u003c/span\u003e\n        }\n\n        \u003cspan class=\"hljs-keyword\"\u003eecho\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003e$after_widget\u003c/span\u003e;\n    }\n\n    \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eupdate\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e \u003cspan class=\"hljs-variable\"\u003e$new_instance\u003c/span\u003e, \u003cspan class=\"hljs-variable\"\u003e$old_instance\u003c/span\u003e \u003c/span\u003e) \u003c/span\u003e{\n        \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e = \u003cspan class=\"hljs-variable\"\u003e$old_instance\u003c/span\u003e;\n        \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'title'\u003c/span\u003e] = \u003cspan class=\"hljs-title function_ invoke__\"\u003estrip_tags\u003c/span\u003e(\u003cspan class=\"hljs-variable\"\u003e$new_instance\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'title'\u003c/span\u003e]);\n\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e;\n    }\n\n    \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eform\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e \u003c/span\u003e) \u003c/span\u003e{\n        \u003cspan class=\"hljs-comment\"\u003e//Defaults\u003c/span\u003e\n        \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e = \u003cspan class=\"hljs-title function_ invoke__\"\u003ewp_parse_args\u003c/span\u003e( (\u003cspan class=\"hljs-keyword\"\u003earray\u003c/span\u003e) \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003earray\u003c/span\u003e( \u003cspan class=\"hljs-string\"\u003e'title'\u003c/span\u003e =\u0026gt; \u003cspan class=\"hljs-string\"\u003e''\u003c/span\u003e) );\n        \u003cspan class=\"hljs-variable\"\u003e$title\u003c/span\u003e = \u003cspan class=\"hljs-title function_ invoke__\"\u003eesc_attr\u003c/span\u003e( \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'title'\u003c/span\u003e] );\n\u003cspan class=\"hljs-meta\"\u003e?\u0026gt;\u003c/span\u003e\n        \u0026lt;p\u0026gt;\n            \u0026lt;label \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"\u0026lt;?php echo \u003cspan class=\"hljs-subst\"\u003e$this\u003c/span\u003e-\u0026gt;get_field_id('title'); ?\u0026gt;\"\u003c/span\u003e\u0026gt;\u003cspan class=\"hljs-meta\"\u003e\u0026lt;?php\u003c/span\u003e \u003cspan class=\"hljs-title function_ invoke__\"\u003e_e\u003c/span\u003e( \u003cspan class=\"hljs-string\"\u003e'Title:'\u003c/span\u003e ); \u003cspan class=\"hljs-meta\"\u003e?\u0026gt;\u003c/span\u003e\u0026lt;/label\u0026gt;\n            \u0026lt;input \u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e=\"\u003cspan class=\"hljs-title\"\u003ewidefat\u003c/span\u003e\" \u003cspan class=\"hljs-title\"\u003eid\u003c/span\u003e=\"\u0026lt;?\u003cspan class=\"hljs-title\"\u003ephp\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eecho\u003c/span\u003e $\u003cspan class=\"hljs-title\"\u003ethis\u003c/span\u003e-\u0026gt;\u003cspan class=\"hljs-title\"\u003eget_field_id\u003c/span\u003e('\u003cspan class=\"hljs-title\"\u003etitle\u003c/span\u003e'); ?\u0026gt;\" \u003cspan class=\"hljs-title\"\u003ename\u003c/span\u003e=\"\u0026lt;?\u003cspan class=\"hljs-title\"\u003ephp\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eecho\u003c/span\u003e $\u003cspan class=\"hljs-title\"\u003ethis\u003c/span\u003e-\u0026gt;\u003cspan class=\"hljs-title\"\u003eget_field_name\u003c/span\u003e('\u003cspan class=\"hljs-title\"\u003etitle\u003c/span\u003e'); ?\u0026gt;\" \u003cspan class=\"hljs-title\"\u003etype\u003c/span\u003e=\"\u003cspan class=\"hljs-title\"\u003etext\u003c/span\u003e\" \u003cspan class=\"hljs-title\"\u003evalue\u003c/span\u003e=\"\u0026lt;?\u003cspan class=\"hljs-title\"\u003ephp\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eecho\u003c/span\u003e $\u003cspan class=\"hljs-title\"\u003etitle\u003c/span\u003e; ?\u0026gt;\" /\u0026gt;\n        \u0026lt;/\u003cspan class=\"hljs-title\"\u003ep\u003c/span\u003e\u0026gt;\n\u0026lt;?\u003cspan class=\"hljs-title\"\u003ephp\u003c/span\u003e\n    }\n}\n\n?\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNow there's one final step. We need to actually display the archives. To do that, we need to modify the \u003ci\u003ewidget()\u003c/i\u003e function. In the last step, we were left with the following line:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003e        \u0026lt;ul\u0026gt;\n            \u003cspan class=\"hljs-comment\"\u003e// We will complete this in the next step\u003c/span\u003e\n        \u0026lt;/ul\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWe are now going to complete this block of code. Open up \u003cb\u003e\"/wp-includes/general-template.php\"\u003c/b\u003e and copy lines 799-825. Paste them into line 24 of \u003cb\u003efunctions-widgets.php\u003c/b\u003e which will give you:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003e        \u0026lt;ul\u0026gt;\n        \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e ( \u003cspan class=\"hljs-string\"\u003e'monthly'\u003c/span\u003e == \u003cspan class=\"hljs-variable\"\u003e$type\u003c/span\u003e ) {\n            \u003cspan class=\"hljs-variable\"\u003e$query\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\"SELECT YEAR(post_date) AS `year`, MONTH(post_date) AS `month`, count(ID) as posts FROM \u003cspan class=\"hljs-subst\"\u003e$wpdb\u003c/span\u003e-\u0026gt;posts \u003cspan class=\"hljs-subst\"\u003e$join\u003c/span\u003e \u003cspan class=\"hljs-subst\"\u003e$where\u003c/span\u003e GROUP BY YEAR(post_date), MONTH(post_date) ORDER BY post_date DESC \u003cspan class=\"hljs-subst\"\u003e$limit\u003c/span\u003e\"\u003c/span\u003e;\n            \u003cspan class=\"hljs-variable\"\u003e$key\u003c/span\u003e = \u003cspan class=\"hljs-title function_ invoke__\"\u003emd5\u003c/span\u003e(\u003cspan class=\"hljs-variable\"\u003e$query\u003c/span\u003e);\n            \u003cspan class=\"hljs-variable\"\u003e$cache\u003c/span\u003e = \u003cspan class=\"hljs-title function_ invoke__\"\u003ewp_cache_get\u003c/span\u003e( \u003cspan class=\"hljs-string\"\u003e'wp_get_archives'\u003c/span\u003e , \u003cspan class=\"hljs-string\"\u003e'general'\u003c/span\u003e);\n            \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e ( !\u003cspan class=\"hljs-keyword\"\u003eisset\u003c/span\u003e( \u003cspan class=\"hljs-variable\"\u003e$cache\u003c/span\u003e[ \u003cspan class=\"hljs-variable\"\u003e$key\u003c/span\u003e ] ) ) {\n                \u003cspan class=\"hljs-variable\"\u003e$arcresults\u003c/span\u003e = \u003cspan class=\"hljs-variable\"\u003e$wpdb\u003c/span\u003e-\u0026gt;\u003cspan class=\"hljs-title function_ invoke__\"\u003eget_results\u003c/span\u003e(\u003cspan class=\"hljs-variable\"\u003e$query\u003c/span\u003e);\n                \u003cspan class=\"hljs-variable\"\u003e$cache\u003c/span\u003e[ \u003cspan class=\"hljs-variable\"\u003e$key\u003c/span\u003e ] = \u003cspan class=\"hljs-variable\"\u003e$arcresults\u003c/span\u003e;\n                \u003cspan class=\"hljs-title function_ invoke__\"\u003ewp_cache_add\u003c/span\u003e( \u003cspan class=\"hljs-string\"\u003e'wp_get_archives'\u003c/span\u003e, \u003cspan class=\"hljs-variable\"\u003e$cache\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'general'\u003c/span\u003e );\n            } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n                \u003cspan class=\"hljs-variable\"\u003e$arcresults\u003c/span\u003e = \u003cspan class=\"hljs-variable\"\u003e$cache\u003c/span\u003e[ \u003cspan class=\"hljs-variable\"\u003e$key\u003c/span\u003e ];\n            }\n            \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e ( \u003cspan class=\"hljs-variable\"\u003e$arcresults\u003c/span\u003e ) {\n                \u003cspan class=\"hljs-variable\"\u003e$afterafter\u003c/span\u003e = \u003cspan class=\"hljs-variable\"\u003e$after\u003c/span\u003e;\n                \u003cspan class=\"hljs-keyword\"\u003eforeach\u003c/span\u003e ( (\u003cspan class=\"hljs-keyword\"\u003earray\u003c/span\u003e) \u003cspan class=\"hljs-variable\"\u003e$arcresults\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003e$arcresult\u003c/span\u003e ) {\n                    \u003cspan class=\"hljs-variable\"\u003e$url\u003c/span\u003e = \u003cspan class=\"hljs-title function_ invoke__\"\u003eget_month_link\u003c/span\u003e( \u003cspan class=\"hljs-variable\"\u003e$arcresult\u003c/span\u003e-\u0026gt;year, \u003cspan class=\"hljs-variable\"\u003e$arcresult\u003c/span\u003e-\u0026gt;month );\n                    \u003cspan class=\"hljs-variable\"\u003e$text\u003c/span\u003e = \u003cspan class=\"hljs-title function_ invoke__\"\u003esprintf\u003c/span\u003e(\u003cspan class=\"hljs-title function_ invoke__\"\u003e__\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'%1$s %2$d'\u003c/span\u003e), \u003cspan class=\"hljs-variable\"\u003e$wp_locale\u003c/span\u003e-\u0026gt;\u003cspan class=\"hljs-title function_ invoke__\"\u003eget_month\u003c/span\u003e(\u003cspan class=\"hljs-variable\"\u003e$arcresult\u003c/span\u003e-\u0026gt;month), \u003cspan class=\"hljs-variable\"\u003e$arcresult\u003c/span\u003e-\u0026gt;year);\n                    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e ( \u003cspan class=\"hljs-variable\"\u003e$show_post_count\u003c/span\u003e )\n                        \u003cspan class=\"hljs-variable\"\u003e$after\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e'\u0026amp;nbsp;('\u003c/span\u003e.\u003cspan class=\"hljs-variable\"\u003e$arcresult\u003c/span\u003e-\u0026gt;posts.\u003cspan class=\"hljs-string\"\u003e')'\u003c/span\u003e . \u003cspan class=\"hljs-variable\"\u003e$afterafter\u003c/span\u003e;\n                    \u003cspan class=\"hljs-variable\"\u003e$output\u003c/span\u003e .= \u003cspan class=\"hljs-title function_ invoke__\"\u003eget_archives_link\u003c/span\u003e(\u003cspan class=\"hljs-variable\"\u003e$url\u003c/span\u003e, \u003cspan class=\"hljs-variable\"\u003e$text\u003c/span\u003e, \u003cspan class=\"hljs-variable\"\u003e$format\u003c/span\u003e, \u003cspan class=\"hljs-variable\"\u003e$before\u003c/span\u003e, \u003cspan class=\"hljs-variable\"\u003e$after\u003c/span\u003e);\n                }\n            }\n        \u0026lt;/ul\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe first thing you'll notice is the \u003cb\u003eif ( 'monthly' == $type )\u003c/b\u003e statement.  We can remove this clause, because the \"custom archive plugin\" will only show archives by month (I wanted to keep it simple- no need for other display types).  Also, this code is using a few global variables ($wpdb, $wp_locale) that aren't yet being used properly in our version of the \u003ci\u003ewidget()\u003c/i\u003e function. We need to modify \u003cb\u003efunctions-widgets.php\u003c/b\u003e again to have the following line which will declare our global variables for use inside the function:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003e    \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003ewidget\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e \u003cspan class=\"hljs-variable\"\u003e$args\u003c/span\u003e, \u003cspan class=\"hljs-variable\"\u003e$instance\u003c/span\u003e \u003c/span\u003e) \u003c/span\u003e{\n        \u003cspan class=\"hljs-keyword\"\u003eglobal\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003e$wpdb\u003c/span\u003e, \u003cspan class=\"hljs-variable\"\u003e$wp_locale\u003c/span\u003e;\n        \u003cspan class=\"hljs-title function_ invoke__\"\u003eextract\u003c/span\u003e(\u003cspan class=\"hljs-variable\"\u003e$args\u003c/span\u003e);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAlso, when we copied code the first time, we didn't copy a few of the variables being used ($where and $join). Modify \u003cb\u003efunctions-widgets.php\u003c/b\u003e like so (adding lines 25-27):\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003e        \u0026lt;ul\u0026gt;\n        \u003cspan class=\"hljs-comment\"\u003e//filters\u003c/span\u003e\n        \u003cspan class=\"hljs-variable\"\u003e$where\u003c/span\u003e = \u003cspan class=\"hljs-title function_ invoke__\"\u003eapply_filters\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'getarchives_where'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"WHERE post_type = 'post' AND post_status = 'publish'\"\u003c/span\u003e, \u003cspan class=\"hljs-variable\"\u003e$r\u003c/span\u003e );\n        \u003cspan class=\"hljs-variable\"\u003e$join\u003c/span\u003e = \u003cspan class=\"hljs-title function_ invoke__\"\u003eapply_filters\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'getarchives_join'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e, \u003cspan class=\"hljs-variable\"\u003e$r\u003c/span\u003e);\n\n        \u003cspan class=\"hljs-variable\"\u003e$query\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\"SELECT YEAR(post_date) AS `year`, MONTH(post_date) AS `month`, count(ID) as posts FROM \u003cspan class=\"hljs-subst\"\u003e$wpdb\u003c/span\u003e-\u0026gt;posts \u003cspan class=\"hljs-subst\"\u003e$join\u003c/span\u003e \u003cspan class=\"hljs-subst\"\u003e$where\u003c/span\u003e GROUP BY YEAR(post_date), MONTH(post_date) ORDER BY post_date DESC \u003cspan class=\"hljs-subst\"\u003e$limit\u003c/span\u003e\"\u003c/span\u003e;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAnother thing about the code we copied: we can ignore the $post\u003cem\u003ecount variable (since we are _always\u003c/em\u003e showing post counts). We also want to make sure the post count shows up inside our anchor tag. To accomplish that, we can change:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003e\u003cspan class=\"hljs-variable\"\u003e$url\u003c/span\u003e = \u003cspan class=\"hljs-title function_ invoke__\"\u003eget_month_link\u003c/span\u003e( \u003cspan class=\"hljs-variable\"\u003e$arcresult\u003c/span\u003e-\u0026gt;year, \u003cspan class=\"hljs-variable\"\u003e$arcresult\u003c/span\u003e-\u0026gt;month );\n\u003cspan class=\"hljs-variable\"\u003e$text\u003c/span\u003e = \u003cspan class=\"hljs-title function_ invoke__\"\u003esprintf\u003c/span\u003e(\u003cspan class=\"hljs-title function_ invoke__\"\u003e__\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'%1$s %2$d'\u003c/span\u003e), \u003cspan class=\"hljs-variable\"\u003e$wp_locale\u003c/span\u003e-\u0026gt;\u003cspan class=\"hljs-title function_ invoke__\"\u003eget_month\u003c/span\u003e(\u003cspan class=\"hljs-variable\"\u003e$arcresult\u003c/span\u003e-\u0026gt;month), \u003cspan class=\"hljs-variable\"\u003e$arcresult\u003c/span\u003e-\u0026gt;year);\n\u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e ( \u003cspan class=\"hljs-variable\"\u003e$show_post_count\u003c/span\u003e )\n    \u003cspan class=\"hljs-variable\"\u003e$after\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e'\u0026amp;nbsp;('\u003c/span\u003e.\u003cspan class=\"hljs-variable\"\u003e$arcresult\u003c/span\u003e-\u0026gt;posts.\u003cspan class=\"hljs-string\"\u003e')'\u003c/span\u003e . \u003cspan class=\"hljs-variable\"\u003e$afterafter\u003c/span\u003e;\n\u003cspan class=\"hljs-variable\"\u003e$output\u003c/span\u003e .= \u003cspan class=\"hljs-title function_ invoke__\"\u003eget_archives_link\u003c/span\u003e(\u003cspan class=\"hljs-variable\"\u003e$url\u003c/span\u003e, \u003cspan class=\"hljs-variable\"\u003e$text\u003c/span\u003e, \u003cspan class=\"hljs-variable\"\u003e$format\u003c/span\u003e, \u003cspan class=\"hljs-variable\"\u003e$before\u003c/span\u003e, \u003cspan class=\"hljs-variable\"\u003e$after\u003c/span\u003e);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eto:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003e\u003cspan class=\"hljs-variable\"\u003e$url\u003c/span\u003e = \u003cspan class=\"hljs-title function_ invoke__\"\u003eget_month_link\u003c/span\u003e( \u003cspan class=\"hljs-variable\"\u003e$arcresult\u003c/span\u003e-\u0026gt;year, \u003cspan class=\"hljs-variable\"\u003e$arcresult\u003c/span\u003e-\u0026gt;month );\n\u003cspan class=\"hljs-variable\"\u003e$text\u003c/span\u003e = \u003cspan class=\"hljs-title function_ invoke__\"\u003esprintf\u003c/span\u003e(\u003cspan class=\"hljs-title function_ invoke__\"\u003e__\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'%1$s %2$d'\u003c/span\u003e), \u003cspan class=\"hljs-variable\"\u003e$wp_locale\u003c/span\u003e-\u0026gt;\u003cspan class=\"hljs-title function_ invoke__\"\u003eget_month\u003c/span\u003e(\u003cspan class=\"hljs-variable\"\u003e$arcresult\u003c/span\u003e-\u0026gt;month), \u003cspan class=\"hljs-variable\"\u003e$arcresult\u003c/span\u003e-\u0026gt;year);\n\u003cspan class=\"hljs-variable\"\u003e$text\u003c/span\u003e .= \u003cspan class=\"hljs-string\"\u003e'\u0026amp;nbsp;('\u003c/span\u003e.\u003cspan class=\"hljs-variable\"\u003e$arcresult\u003c/span\u003e-\u0026gt;posts.\u003cspan class=\"hljs-string\"\u003e')'\u003c/span\u003e . \u003cspan class=\"hljs-variable\"\u003e$afterafter\u003c/span\u003e;\n\u003cspan class=\"hljs-variable\"\u003e$output\u003c/span\u003e .= \u003cspan class=\"hljs-title function_ invoke__\"\u003eget_archives_link\u003c/span\u003e(\u003cspan class=\"hljs-variable\"\u003e$url\u003c/span\u003e, \u003cspan class=\"hljs-variable\"\u003e$text\u003c/span\u003e, \u003cspan class=\"hljs-variable\"\u003e$format\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'\u0026lt;li\u0026gt;'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'\u0026lt;/li\u0026gt;'\u003c/span\u003e);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAlso add the correct output line before the \u003ci\u003ewidget()\u003c/i\u003e function ends:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003e        \u003cspan class=\"hljs-keyword\"\u003eecho\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'\u0026lt;ul\u0026gt;'\u003c/span\u003e . \u003cspan class=\"hljs-variable\"\u003e$output\u003c/span\u003e . \u003cspan class=\"hljs-string\"\u003e'\u0026lt;/ul\u0026gt;'\u003c/span\u003e;\n        \u003cspan class=\"hljs-keyword\"\u003eecho\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003e$after_widget\u003c/span\u003e;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eOur hacked/modified version is almost complete. The last thing I'm going to do is register the new archive widget (and unregister the default version). Do so by adding the following \u003ci\u003emytheme_widget_init()\u003c/i\u003e function to \u003cb\u003efunctions-widgets.php\u003c/b\u003e, then calling it:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003e\u003cspan class=\"hljs-comment\"\u003e/**\n * Registering MyTheme Widgets\n * Removing a few default WordPress Widgets\n *\n * \u003cspan class=\"hljs-doctag\"\u003e@since\u003c/span\u003e 1.0\n */\u003c/span\u003e\n\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003emytheme_widget_init\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) \u003c/span\u003e{\n    \u003cspan class=\"hljs-comment\"\u003e// unregister some default widgets\u003c/span\u003e\n    \u003cspan class=\"hljs-title function_ invoke__\"\u003eunregister_widget\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'WP_Widget_Archives'\u003c/span\u003e);\n\n    \u003cspan class=\"hljs-comment\"\u003e// register my own widgets\u003c/span\u003e\n    \u003cspan class=\"hljs-title function_ invoke__\"\u003eregister_widget\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'MyTheme_Widget_Archives'\u003c/span\u003e);\n}\n\n\u003cspan class=\"hljs-title function_ invoke__\"\u003eadd_action\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'widgets_init'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'mytheme_widget_init'\u003c/span\u003e);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAfter completing the above steps, your post count will show up inside the anchor tag. One final (optional) step is modifying the \u003cb\u003estyle.css\u003c/b\u003e file so archive links are highlighted when hovering. For the \"classic-modified\" theme, I'm going to add:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-css\"\u003e\u003cspan class=\"hljs-comment\"\u003e/* Custom styles for archive widget */\u003c/span\u003e\n\u003cspan class=\"hljs-selector-class\"\u003e.widget_archive\u003c/span\u003e,\n\u003cspan class=\"hljs-selector-class\"\u003e.widget_archive\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eul\u003c/span\u003e,\n\u003cspan class=\"hljs-selector-class\"\u003e.widget_archive\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eul\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eli\u003c/span\u003e,\n\u003cspan class=\"hljs-selector-class\"\u003e.widget_archive\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eul\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eli\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eul\u003c/span\u003e,\n\u003cspan class=\"hljs-selector-class\"\u003e.widget_archive\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eul\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eli\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eul\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eli\u003c/span\u003e {\n  \u003cspan class=\"hljs-attribute\"\u003eborder\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0px\u003c/span\u003e;\n  \u003cspan class=\"hljs-attribute\"\u003emargin\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0px\u003c/span\u003e;\n  \u003cspan class=\"hljs-attribute\"\u003epadding\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0px\u003c/span\u003e;\n  \u003cspan class=\"hljs-attribute\"\u003elist-style\u003c/span\u003e: none;\n  \u003cspan class=\"hljs-attribute\"\u003edisplay\u003c/span\u003e: block;\n}\n\u003cspan class=\"hljs-selector-class\"\u003e.widget_archive\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eul\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eli\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003ea\u003c/span\u003e,\n\u003cspan class=\"hljs-selector-class\"\u003e.widget_archive\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eul\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eli\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eul\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eli\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003ea\u003c/span\u003e {\n  \u003cspan class=\"hljs-attribute\"\u003edisplay\u003c/span\u003e: block;\n  \u003cspan class=\"hljs-attribute\"\u003eborder-bottom\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1px\u003c/span\u003e dotted \u003cspan class=\"hljs-number\"\u003e#666\u003c/span\u003e;\n  \u003cspan class=\"hljs-attribute\"\u003emargin\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0px\u003c/span\u003e;\n  \u003cspan class=\"hljs-attribute\"\u003epadding\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0px\u003c/span\u003e;\n}\n\u003cspan class=\"hljs-selector-class\"\u003e.widget_archive\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eul\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eli\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003ea\u003c/span\u003e,\n\u003cspan class=\"hljs-selector-class\"\u003e.widget_archive\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eul\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eli\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003ea\u003c/span\u003e\u003cspan class=\"hljs-selector-pseudo\"\u003e:link\u003c/span\u003e,\n\u003cspan class=\"hljs-selector-class\"\u003e.widget_archive\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eul\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eli\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003ea\u003c/span\u003e\u003cspan class=\"hljs-selector-pseudo\"\u003e:visited\u003c/span\u003e,\n\u003cspan class=\"hljs-selector-class\"\u003e.widget_archive\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eul\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eli\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003ea\u003c/span\u003e\u003cspan class=\"hljs-selector-pseudo\"\u003e:hover\u003c/span\u003e,\n\u003cspan class=\"hljs-selector-class\"\u003e.widget_archive\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eul\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eli\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003ea\u003c/span\u003e\u003cspan class=\"hljs-selector-pseudo\"\u003e:active\u003c/span\u003e {\n  \u003cspan class=\"hljs-attribute\"\u003etext-decoration\u003c/span\u003e: none;\n}\n\u003cspan class=\"hljs-selector-class\"\u003e.widget_archive\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eul\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eli\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003ea\u003c/span\u003e\u003cspan class=\"hljs-selector-pseudo\"\u003e:hover\u003c/span\u003e {\n  \u003cspan class=\"hljs-attribute\"\u003ebackground\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e#eee\u003c/span\u003e;\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4 style=\"text-decoration:underline\"\u003eComparison of default archive widget behavior vs. modified version\u003c/h4\u003e\n\n\u003cdiv class=\"clearfix\" style=\"width:600px;margin:0 auto;\"\u003e\n    \u003cdiv class=\"left\"\u003e\n        \u003cp\u003e\u003cb\u003eBEFORE (default archive widget):\u003c/b\u003e\u003c/p\u003e\n        \u003cimg src=\"/images/posts/2009/09/22/classic-screen.gif\" alt=\"BEFORE (default archive widget)\" title=\"Classic Theme Screenshot\" width=\"212\" height=\"102\"\u003e\n    \u003c/div\u003e\n    \u003cdiv class=\"right\"\u003e\n        \u003cp\u003e\u003cb\u003eAFTER (modified archive widget):\u003c/b\u003e\u003c/p\u003e\n        \u003cimg src=\"/images/posts/2009/09/22/classic-modified-screen.gif\" alt=\"AFTER (modified archive widget)\" title=\"Classic-Modified Theme Screenshot\" width=\"212\" height=\"102\"\u003e\n    \u003c/div\u003e\n\u003c/div\u003e\n","frontmatter":{"layout":"post","title":"Getting Wordpress Post Counts to show up inside anchor tag","categories":["Wordpress"],"tags":["PHP","Wordpress"],"type":"post","status":"publish"}}]},"__N_SSG":true},"page":"/category/[category]","query":{"category":"Wordpress"},"buildId":"ietM0aLwFW5OlUSya73Vr","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>