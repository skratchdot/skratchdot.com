<!DOCTYPE html><html><head><meta charSet="utf-8"/><title>MongoDB - distinct2.js » skratchdot.com</title><link rel="apple-touch-icon" sizes="57x57" href="/images/favicons/apple-touch-icon-57x57.png"/><link rel="apple-touch-icon" sizes="114x114" href="/images/favicons/apple-touch-icon-114x114.png"/><link rel="apple-touch-icon" sizes="72x72" href="/images/favicons/apple-touch-icon-72x72.png"/><link rel="apple-touch-icon" sizes="60x60" href="/images/favicons/apple-touch-icon-60x60.png"/><link rel="apple-touch-icon" sizes="120x120" href="/images/favicons/apple-touch-icon-120x120.png"/><link rel="apple-touch-icon" sizes="76x76" href="/images/favicons/apple-touch-icon-76x76.png"/><meta name="apple-mobile-web-app-title" content="skratchdot"/><link rel="icon" type="image/png" href="/images/favicons/favicon-96x96.png" sizes="96x96"/><link rel="icon" type="image/png" href="/images/favicons/favicon-16x16.png" sizes="16x16"/><link rel="icon" type="image/png" href="/images/favicons/favicon-32x32.png" sizes="32x32"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="msapplication-TileColor" content="#da532c"/><meta name="application-name" content="skratchdot"/><meta name="generator" content="NextJS"/><link rel="alternate" type="application/atom+xml" title="Atom Feed for skratchdot.com" href="/atom.xml"/><link rel="alternate" type="application/rss+xml" title="RSS Feed for skratchdot.com" href="/feed.xml"/><link rel="alternate" type="application/feed+json" title="JSON Feed for skratchdot.com" href="/feed.json"/><meta name="next-head-count" content="19"/><link rel="preload" href="/_next/static/css/9f6844b18498e4a4.css" as="style"/><link rel="stylesheet" href="/_next/static/css/9f6844b18498e4a4.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-514908bffb652963.js" defer=""></script><script src="/_next/static/chunks/framework-91d7f78b5b4003c8.js" defer=""></script><script src="/_next/static/chunks/main-682b8586cd82cc4e.js" defer=""></script><script src="/_next/static/chunks/pages/_app-4d21e19fd58c130c.js" defer=""></script><script src="/_next/static/chunks/31-c97ffeae2ceece59.js" defer=""></script><script src="/_next/static/chunks/257-c9cf42cec14b9e06.js" defer=""></script><script src="/_next/static/chunks/pages/%5B...path%5D-173d38962422cd6f.js" defer=""></script><script src="/_next/static/ietM0aLwFW5OlUSya73Vr/_buildManifest.js" defer=""></script><script src="/_next/static/ietM0aLwFW5OlUSya73Vr/_ssgManifest.js" defer=""></script><script src="/_next/static/ietM0aLwFW5OlUSya73Vr/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div><div class="hrRed"></div><div class="hrBlack"></div><header class="oneColumn"><h1><a href="/">[skratchdot<span>.</span>]</a></h1></header><nav id="mainNav" class="oneColumn"><ul><li><a title="Home" href="/"><span>[</span>Home<span>]</span></a></li><li><a title="Projects" href="/projects/"><span>[</span>Projects<span>]</span></a></li><li><a title="Contact" href="/contact/"><span>[</span>Contact<span>]</span></a></li></ul></nav><br/><section class="oneColumn"><article><div class="entry"><div><h1 id="mongodb---distinct2js">MongoDB - distinct2.js</h1>
<p><a href="https://www.skratchdot.com/projects/mongodb-distinct2/">Project Page</a><br><a href="https://github.com/skratchdot/mongodb-distinct2/">Source Code</a><br><a href="https://github.com/skratchdot/mongodb-distinct2/issues/">Issues</a></p>
<h2 id="description">Description:</h2>
<p>Similar to the db.myCollection.distinct() function, distinct2() allows
you to pass in an array of keys to get values for. It also allows you
to pass in an optional "count" argument. When true, you can easily get
the counts for your distinct values.</p>
<p>You can also call distinct2() on the results of a query (something you
can't currently do with the built in distinct() function).</p>
<p>To accomplish this, it adds the following functions to our built in mongo prototypes:</p>
<pre><code class="hljs language-javascript"><span class="hljs-title class_">DBCollection</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">distinct2</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">keys, count</span>) {};
<span class="hljs-title class_">DBQuery</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">distinct2</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">keys, count</span>) {};
</code></pre>
<h2 id="usage">Usage:</h2>
<pre><code class="hljs language-javascript"><span class="hljs-comment">// All 5 of these statements are the same as:</span>
<span class="hljs-comment">//</span>
<span class="hljs-comment">//     db.users.distinct('name.first')</span>
<span class="hljs-comment">//</span>
db.<span class="hljs-property">users</span>.<span class="hljs-title function_">distinct2</span>(<span class="hljs-string">'name.first'</span>);
db.<span class="hljs-property">users</span>.<span class="hljs-title function_">distinct2</span>(<span class="hljs-string">'name.first'</span>, <span class="hljs-literal">false</span>);
db.<span class="hljs-property">users</span>.<span class="hljs-title function_">distinct2</span>([<span class="hljs-string">'name.first'</span>]);
db.<span class="hljs-property">users</span>.<span class="hljs-title function_">distinct2</span>([<span class="hljs-string">'name.first'</span>], <span class="hljs-literal">false</span>);
db.<span class="hljs-property">users</span>.<span class="hljs-title function_">find</span>().<span class="hljs-title function_">distinct2</span>(<span class="hljs-string">'name.first'</span>);

<span class="hljs-comment">// you can pass in an array of values</span>
db.<span class="hljs-property">users</span>.<span class="hljs-title function_">distinct2</span>([<span class="hljs-string">'name.first'</span>, <span class="hljs-string">'name.last'</span>]);

<span class="hljs-comment">// you can get counts</span>
db.<span class="hljs-property">users</span>.<span class="hljs-title function_">distinct2</span>(<span class="hljs-string">'name.first'</span>, <span class="hljs-literal">true</span>);

<span class="hljs-comment">// you can get distinct values from the results of a query</span>
db.<span class="hljs-property">users</span>.<span class="hljs-title function_">find</span>({ <span class="hljs-string">'name.first'</span>: <span class="hljs-string">'Bob'</span> }).<span class="hljs-title function_">distinct2</span>(<span class="hljs-string">'name.last'</span>);

<span class="hljs-comment">//</span>
<span class="hljs-comment">// When calling distinct2() on large datasets, status on the operation</span>
<span class="hljs-comment">// will be printed to the shell. By default, the status interval is 1000ms.</span>
<span class="hljs-comment">// If you would like more/less frequent updates, you can pass in an interval</span>
<span class="hljs-comment">// time to a setStatusInterval() function. If you would like to disable</span>
<span class="hljs-comment">// status updates, you can pass in a negative number.</span>
<span class="hljs-comment">//</span>

<span class="hljs-comment">// Print status updates every 5 seconds:</span>
db.<span class="hljs-property">users</span>.<span class="hljs-property">distinct2</span>.<span class="hljs-title function_">setStatusInterval</span>(<span class="hljs-number">5000</span>);

<span class="hljs-comment">// Disable status updates</span>
db.<span class="hljs-property">users</span>.<span class="hljs-property">distinct2</span>.<span class="hljs-title function_">setStatusInterval</span>(<span class="hljs-number">0</span>);

<span class="hljs-comment">// distinct2 can be used like group(), but has a simpler syntax.</span>
<span class="hljs-comment">// Take for instance the following 2 queries (which return the same</span>
<span class="hljs-comment">// results- but in a slightly different format). Let's say the users</span>
<span class="hljs-comment">// collection has 37 documents. All users have a first name of either</span>
<span class="hljs-comment">// 'Bob' or 'Amy'. Compare these 2 queries (and results):</span>

<span class="hljs-comment">// query 1</span>
db.<span class="hljs-property">users</span>.<span class="hljs-title function_">distinct2</span>(<span class="hljs-string">'name.first'</span>, <span class="hljs-literal">true</span>);
<span class="hljs-comment">// result 1</span>
[
  [<span class="hljs-string">'Bob'</span>, <span class="hljs-number">22</span>],
  [<span class="hljs-string">'Amy'</span>, <span class="hljs-number">15</span>],
];

<span class="hljs-comment">// query 2</span>
db.<span class="hljs-property">users</span>.<span class="hljs-title function_">group</span>({
  <span class="hljs-attr">key</span>: { <span class="hljs-string">'name.first'</span>: <span class="hljs-number">1</span> },
  <span class="hljs-attr">$reduce</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">curr, result</span>) {
    result.<span class="hljs-property">total</span>++;
  },
  <span class="hljs-attr">initial</span>: { <span class="hljs-attr">total</span>: <span class="hljs-number">0</span> },
});
<span class="hljs-comment">// result 2</span>
[
  { <span class="hljs-string">'first.name'</span>: <span class="hljs-string">'Bob'</span>, <span class="hljs-attr">total</span>: <span class="hljs-number">22</span> },
  { <span class="hljs-string">'first.name'</span>: <span class="hljs-string">'Amy'</span>, <span class="hljs-attr">total</span>: <span class="hljs-number">15</span> },
];
</code></pre>
<h2 id="installation">Installation:</h2>
<p>Download: <a href="https://github.com/skratchdot/mongodb-distinct2/raw/master/distinct2.js">distinct2.js</a></p>
<h3 id="option-1">Option 1</h3>
<p>Add this script to your .mongorc.js file.</p>
<p>See: <a href="http://www.mongodb.org/display/DOCS/Overview+-+The+MongoDB+Interactive+Shell#Overview-TheMongoDBInteractiveShell-.mongorc.js">http://www.mongodb.org/display/DOCS/Overview+-+The+MongoDB+Interactive+Shell#Overview-TheMongoDBInteractiveShell-.mongorc.js</a></p>
<h3 id="option-2">Option 2</h3>
<p>Start the shell after executing this script</p>
<pre><code class="hljs language-plaintext">mongo --shell distinct2.js
</code></pre>
<h3 id="disclaimer">Disclaimer</h3>
<p>This is not a highly efficient function. Use caution when running this on large
collections. It works great on smaller datasets, but may be unusable on huge
collections. There is a status line that will be printed every 1000ms. You can always
ctrl-c if it takes too long.</p>
</div></div><div><br/><div style="border-bottom:1px dotted"></div><br/></div><div id="disqus_thread"></div><div id="disqus_thread"></div></article><nav id="articlesNav"><div><div class="newEntries"></div><div class="oldEntries"></div></div><div class="homeEntries"><a href="/">HOME</a></div></nav></section><div class="footerSpacer"><br/></div><footer class="oneColumn"><div>Copyright © <!-- -->2022<!-- --> <a href="/">skratchdot</a><span class="hspace">•</span>Validate:  <a href="https://validator.w3.org/nu/?doc=https%3A%2F%2Fwww.skratchdot.com%2Fprojects%2Fmongodb-distinct2%2F">HTML5</a><span class="hspace">•</span><a class="noBorder" href="/atom.xml"><img src="/images/feed-icon-14x14.png" alt="RSS/Atom Feed" width="14" height="14" style="top:2px"/></a><span class="hspace">•</span><div class="twitter-button"><a class="twitter-button-link" target="_blank" aria-label="Follow @skratchdot on Twitter" title="Follow @skratchdot on Twitter" href="https://twitter.com/intent/user?screen_name=skratchdot"><i></i><span>Follow <b>@skratchdot</b></span></a></div></div></footer><a href="https://github.com/skratchdot" class="github-corner"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#c80000;color:#000;position:absolute;top:0;border:0;right:0"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path><path d="M10,10 L115,115 L250,250 Z" stroke="black" stroke-width="6"></path></svg></a><div id="homepage_link"><a style="border:0" href="/"><img src="/favicon.ico" alt="skratchdot" width="16" height="16"/></a></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"slug":"/projects/mongodb-distinct2","filename":"_pages/projects/mongodb-distinct2/index.md","html":"\u003ch1 id=\"mongodb---distinct2js\"\u003eMongoDB - distinct2.js\u003c/h1\u003e\n\u003cp\u003e\u003ca href=\"https://www.skratchdot.com/projects/mongodb-distinct2/\"\u003eProject Page\u003c/a\u003e\u003cbr\u003e\u003ca href=\"https://github.com/skratchdot/mongodb-distinct2/\"\u003eSource Code\u003c/a\u003e\u003cbr\u003e\u003ca href=\"https://github.com/skratchdot/mongodb-distinct2/issues/\"\u003eIssues\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"description\"\u003eDescription:\u003c/h2\u003e\n\u003cp\u003eSimilar to the db.myCollection.distinct() function, distinct2() allows\nyou to pass in an array of keys to get values for. It also allows you\nto pass in an optional \"count\" argument. When true, you can easily get\nthe counts for your distinct values.\u003c/p\u003e\n\u003cp\u003eYou can also call distinct2() on the results of a query (something you\ncan't currently do with the built in distinct() function).\u003c/p\u003e\n\u003cp\u003eTo accomplish this, it adds the following functions to our built in mongo prototypes:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-title class_\"\u003eDBCollection\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprototype\u003c/span\u003e\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003edistinct2\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003ekeys, count\u003c/span\u003e) {};\n\u003cspan class=\"hljs-title class_\"\u003eDBQuery\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprototype\u003c/span\u003e\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003edistinct2\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003ekeys, count\u003c/span\u003e) {};\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"usage\"\u003eUsage:\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-comment\"\u003e// All 5 of these statements are the same as:\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e//\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e//     db.users.distinct('name.first')\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e//\u003c/span\u003e\ndb.\u003cspan class=\"hljs-property\"\u003eusers\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003edistinct2\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'name.first'\u003c/span\u003e);\ndb.\u003cspan class=\"hljs-property\"\u003eusers\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003edistinct2\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'name.first'\u003c/span\u003e, \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e);\ndb.\u003cspan class=\"hljs-property\"\u003eusers\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003edistinct2\u003c/span\u003e([\u003cspan class=\"hljs-string\"\u003e'name.first'\u003c/span\u003e]);\ndb.\u003cspan class=\"hljs-property\"\u003eusers\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003edistinct2\u003c/span\u003e([\u003cspan class=\"hljs-string\"\u003e'name.first'\u003c/span\u003e], \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e);\ndb.\u003cspan class=\"hljs-property\"\u003eusers\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003efind\u003c/span\u003e().\u003cspan class=\"hljs-title function_\"\u003edistinct2\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'name.first'\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// you can pass in an array of values\u003c/span\u003e\ndb.\u003cspan class=\"hljs-property\"\u003eusers\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003edistinct2\u003c/span\u003e([\u003cspan class=\"hljs-string\"\u003e'name.first'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'name.last'\u003c/span\u003e]);\n\n\u003cspan class=\"hljs-comment\"\u003e// you can get counts\u003c/span\u003e\ndb.\u003cspan class=\"hljs-property\"\u003eusers\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003edistinct2\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'name.first'\u003c/span\u003e, \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// you can get distinct values from the results of a query\u003c/span\u003e\ndb.\u003cspan class=\"hljs-property\"\u003eusers\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003efind\u003c/span\u003e({ \u003cspan class=\"hljs-string\"\u003e'name.first'\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'Bob'\u003c/span\u003e }).\u003cspan class=\"hljs-title function_\"\u003edistinct2\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'name.last'\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e//\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// When calling distinct2() on large datasets, status on the operation\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// will be printed to the shell. By default, the status interval is 1000ms.\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// If you would like more/less frequent updates, you can pass in an interval\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// time to a setStatusInterval() function. If you would like to disable\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// status updates, you can pass in a negative number.\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e//\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e// Print status updates every 5 seconds:\u003c/span\u003e\ndb.\u003cspan class=\"hljs-property\"\u003eusers\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003edistinct2\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003esetStatusInterval\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e5000\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// Disable status updates\u003c/span\u003e\ndb.\u003cspan class=\"hljs-property\"\u003eusers\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003edistinct2\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003esetStatusInterval\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// distinct2 can be used like group(), but has a simpler syntax.\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// Take for instance the following 2 queries (which return the same\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// results- but in a slightly different format). Let's say the users\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// collection has 37 documents. All users have a first name of either\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// 'Bob' or 'Amy'. Compare these 2 queries (and results):\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e// query 1\u003c/span\u003e\ndb.\u003cspan class=\"hljs-property\"\u003eusers\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003edistinct2\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'name.first'\u003c/span\u003e, \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e);\n\u003cspan class=\"hljs-comment\"\u003e// result 1\u003c/span\u003e\n[\n  [\u003cspan class=\"hljs-string\"\u003e'Bob'\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e],\n  [\u003cspan class=\"hljs-string\"\u003e'Amy'\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e15\u003c/span\u003e],\n];\n\n\u003cspan class=\"hljs-comment\"\u003e// query 2\u003c/span\u003e\ndb.\u003cspan class=\"hljs-property\"\u003eusers\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egroup\u003c/span\u003e({\n  \u003cspan class=\"hljs-attr\"\u003ekey\u003c/span\u003e: { \u003cspan class=\"hljs-string\"\u003e'name.first'\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e },\n  \u003cspan class=\"hljs-attr\"\u003e$reduce\u003c/span\u003e: \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003ecurr, result\u003c/span\u003e) {\n    result.\u003cspan class=\"hljs-property\"\u003etotal\u003c/span\u003e++;\n  },\n  \u003cspan class=\"hljs-attr\"\u003einitial\u003c/span\u003e: { \u003cspan class=\"hljs-attr\"\u003etotal\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e },\n});\n\u003cspan class=\"hljs-comment\"\u003e// result 2\u003c/span\u003e\n[\n  { \u003cspan class=\"hljs-string\"\u003e'first.name'\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'Bob'\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003etotal\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e },\n  { \u003cspan class=\"hljs-string\"\u003e'first.name'\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'Amy'\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003etotal\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e15\u003c/span\u003e },\n];\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"installation\"\u003eInstallation:\u003c/h2\u003e\n\u003cp\u003eDownload: \u003ca href=\"https://github.com/skratchdot/mongodb-distinct2/raw/master/distinct2.js\"\u003edistinct2.js\u003c/a\u003e\u003c/p\u003e\n\u003ch3 id=\"option-1\"\u003eOption 1\u003c/h3\u003e\n\u003cp\u003eAdd this script to your .mongorc.js file.\u003c/p\u003e\n\u003cp\u003eSee: \u003ca href=\"http://www.mongodb.org/display/DOCS/Overview+-+The+MongoDB+Interactive+Shell#Overview-TheMongoDBInteractiveShell-.mongorc.js\"\u003ehttp://www.mongodb.org/display/DOCS/Overview+-+The+MongoDB+Interactive+Shell#Overview-TheMongoDBInteractiveShell-.mongorc.js\u003c/a\u003e\u003c/p\u003e\n\u003ch3 id=\"option-2\"\u003eOption 2\u003c/h3\u003e\n\u003cp\u003eStart the shell after executing this script\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-plaintext\"\u003emongo --shell distinct2.js\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"disclaimer\"\u003eDisclaimer\u003c/h3\u003e\n\u003cp\u003eThis is not a highly efficient function. Use caution when running this on large\ncollections. It works great on smaller datasets, but may be unusable on huge\ncollections. There is a status line that will be printed every 1000ms. You can always\nctrl-c if it takes too long.\u003c/p\u003e\n","frontmatter":{"layout":"page","title":"MongoDB - distinct2.js"}},"__N_SSG":true},"page":"/[...path]","query":{"path":["projects","mongodb-distinct2"]},"buildId":"ietM0aLwFW5OlUSya73Vr","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>